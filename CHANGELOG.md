### 1й раунд (декабрь 2022 - апрель 2023)
- дефолтная превьюшка теперь может быть полностью прозрачной. Об этом добавлена соответствующая настройка
- теперь программа сворачивается в трей, когда окно закрывается. Сделано это для того, чтобы при запуске не пришлось долго ожидать загрузки библиотеки
- в меню трея программа выводит статистику сожранной памяти
- оконки у панели управления теперь расположены на затенённом фоне, что облегчит их нахождение
- перерисованы кнопки увеличения и уменьшения масштаба на панели управления
- доработка lite mode:
    - теперь работает не только для папки, но и для текущй картинки и доступно через контекстное меню
    - окно новой копии программы в lite mode открывается на другом мониторе по возможности
- в контесное меню превьюшек добавлена опция сканирования в глубину. При сканировании в глубину будут добавлены не только изображения в текущей папке, но и в её подпапках тоже. Опция сохраняется в файле сессии и даёт эффект при первоначальной загрузке и при принудительном обновлении папки
- приложение научилось определять когда оно запускается из Sublime Text
- добавлена история просмотра картинок
    - сверху идёт второй ряд мелких превьшек, отображающий историю просмотра
    - стрелка + Alt для возвращения к предыдущей показанной картинке
    - история может быть либо для одной папки, либо для всех сразу, есть соотвествующая настройка
    - при достижении краёв списка истории выдаётся сообщение
- выполнен рефакторинг многих частей программы
    - settings api
    - разнёс код из главного файла по другим новым файлам
    - отрисовка мелких превьюшек
    - код сокетов
    - QMovie переписан, чтобы анимированный контент отображался не через костыльный QLabel, а через отрисовку, как это делает весь статический контент
- сделана подцветка центрального лейбла в стиле начала глав Half Life 2, чтобы можно было визуально заметить, что сообщение через лейбл появляется раз за разом
- добавлена настройка для размера превьюшек во вьювере
- теперь изображения стремятся занять максимально возможное пространство благодаря использованию функции fit
- нарисована иконка по подобию Chromium. Потом ещё раз её перерисую
- в левом верхнем углу для отладки выводится инфа из стандартного выхода, вывод можно отключить в настройках
- теперь если клавиша перелистывания изображений зажата, то отменяется анимация, которая в таком случае замедляет перелистывание. Вдобавок вообще для любого значения пропускается интерполяция, если начальные и конечные значения совпадают, в итоге опять же избавляемся от задержки
- нажатие на Esc сначала закрывает окно с настройками, если оно открыто, и только при повторном нажатии закрывается само приложение
- добавлена настройка для запуска в трей, при чём в таком случае окно не показывается сразу, а только после клика по иконке трея. При клике показывается окно со стартовой заглушкой, которая приглашает к выбору папки для просмотра.
- в настройках перереработан вид чекеров, теперь ясно видно, что отключено, а что включено
- повороты теперь реализованы за счёт поворота самой картинки в памяти, а не за счёт поворота холста
- переработана функция кадрирования, доступная через клавишу R или R+Shift. Под эту функцию в настройках добавлена строка для пути, по которому будут сохраняться кадрированные изображения. Зажатие Ctrl даст сбросить текущий путь и задать новый
- прога теперь показывает метадату во вьюпорте, если она есть в файле изображения, в настройках есть соответствующая галочка
- появился скролл на странице библиотеки для каждой колонки и отрисовка скроллбаров
- кадрирование теперь может сохранять кадры из анимированных картинок
- теперь можно выделять прямоугольником область интереса на изображении и добавлять к ней комментарий
- доработан UX просмотра анимированного контента
    - при перелистывании запоминается стояла ли анимация на паузе или нет
    - более удобная покадровая прокрутка через зажатую левую кнопку мыши
- появилась возможность растягивания программы на два монитора на странице библиотеки, чтобы левый столбец был на первом мониторе, а правый столбец был на втором
- появилась возможность мигрировать с монитора на монитор с помощью Ctrl+стрелка
- по просьбе добавлена визуальная фича для антуража, которая делит пространство на квадраты, прозрачность которых плавно рандомно меняется как в загрузочной заставке Splinter Cell Black list. Любой такой квадрат будет возвращаться к нормальному отображению, если над ним находится курсор мыши
- теперь при открытии приложения для конкретной папки или для конкретного изображения будет спрашиваться открыть окно в лайтовом  режиме или в обычном, где много времени уходит на сканирование папок добавленных в библиотеку перед непосредственным открытием окна
- коменты теперь отключены в лайтовом режиме


### 2й раунд (май 2023 - декабрь 2023)
- Стартовый диалог теперь имеет третью опцию — «Закрыть». Она позволяет вообще не запускать программу. Клик по крестику в углу делает то же самое
- Теперь svg-файлы (расширения `.svg`, `.svgz`) растеризуются в приемлемом разрешении, которое можно изменять через пункт контестного меню «Изменить разрешение растеризации SVG-файла»
- Добавлена настройка «Запускать лайтовый режим сразу и без диалога»
    - это позволяет пропускать диалог выбора режима упрощённый или библиотечный (расширенный)
    - перезапуститься из лайтового в обычный режим можно через команду контекстного меню
- В контестное меню добавлена команда «Перезапуск» для сброса лишней памяти
    - если была открыта библиотека, то при перезапуске тоже будет открыта библиотека 
- В файл `history.log` в папке программы теперь прописывается все запросы к приложению с датой и путём до запрашиваемых картинки или папки
- UX: теперь активация Scroll Lock через одноимённую клавишу переносит функционал клавиш WASD на клавиши со стрелками
- В контекстном меню появилась команда **Свернуть**
- !!!! обнаружен баг: после предварительного сворачивания через сочетание Win+Key Down при разворачивании кликом мышки по панели задач адекватно не появляется рамка у окна. Решения пока найти не удалось. Попытки решить прописаны в методе changeEvent. Код в changeEvent на данный момент вызывает бесконечный цикл и внезапно баги даже в окнах других приложений
- Исправлен баг с залипанием нажатой левой клавиши при переходе окна в режим "с рамкой"
- Исправлен баг, когда при отсутствии повёрнутого изображения сообщение о отсутствии изображения показывалось с тем же поворотом, какое было у самого изображения
- Добавлена возможность менять местами порядок миниатюрок в той части ряда, что видна на мониторе. Работает через зажатие левой кнопки мыши.
- Добавлена система тегов:
    - во вьювере при наведении мышки к левому краю появится панель, на которой будут отображены все теги для данного изображения
    - через клавишу T доступна форма задания тегов и создания новых, она прятается через клавишу Esc. Щелкнув правой кнопкой мыши по лейблу тега отмеченные им изображения можно посмотреть в сгенерированной html-странице 
    - для каждого тега система хранит два файла в папке tagging: первый содержит имя тега и его описание, второй содежит список файлов
- Из-за того, что клавиша T теперь используется в системе тегов, включить и выключить трети отныне можно только через клавишу D
- Теперь при перелистывании есть возможность видеть файлы любого типа, если в настройках деактивирована галочка **Показывать только изображения**. Фича нужна для того, чтобы иметь возможность замечать в папках с изображениями лишние файлы. Уже сейчас содержимое текстовых файлов (`.log`, `.txt`, `.url`, `.ini`) отображается в плашке об ошибке, которая выводится заместо картинки.
- Пофиксил баги для фичи перемещения миниатюрок
- Пофиксил баг с unicode
- !!!! Заметил кое-что важное: разрабатывая программу лишь несколько дней в месяц я стал забывать что и когда сделано, и недавно сделал фигню, например, не сделал модальными всплывающие окна настроек, комментария и тегов. Когда сделал, это решило кучи проблем с UX
- Все формы (форма настроек, форма тегов, форма комментария) теперь модальные. Клавишей Esc каждую из них можно закрыть
- В форме тегов при клике по лейблам тегов теперь не возбуждается (не показывается назойливо) Completer в текством поле
- Кнопки поворота картинки поменяны местами
- Отражать картинку теперь можно и по вертикали, для этого нужно лишь зажать Ctrl перед нажанием клавиши M
- Создав фичу, благодаря которой можно увидеть в списке картинок не только сами картинки, я забыл выключить для этих НЕкартинок вычисление md5-хэша. Из-за этого например, при попытке открыть картинку в папке, в которой лежало ещё и видео размером 500 МБ, время загрузки увеличилось почти на 3 секунды. Это нужно было исправлять, и сейчас это всё исправлено. Файлы, у которых md5-хэш не вычисляется, по сути не считаются картинками, и из-за этого теперь их нельзя добавлять в даже избранное.
- Теперь программа может читать AVIF, HEIF и HEIC-файлы
- Теперь при увеличении с 1% в большую сторону картинка некоторое время будет центироваться на позиции курсора. Это сделано для того, чтобы она не вылетела резко за края окна (из области видимости) из-за ошибок округления в алгоритме мастабирования при увеличении масштаба
- Надпись стартовой страницы больше не мелькает на доли секунды при открытии изображения из проводника. Надпись "Загрузка" теперь выдаётся сразу на нескольких языках, а не на рандомном одном
- Теперь миниатюрки в нижней части вьювера создаются рядом с текущей на данный момент миниатюркой и, причём по очереди в обе стороны, что в результате даёт приятный анимационный эффект, который в Picasa Photo Viewer ещё украшен постепенным масштабированием каждой миниатюрки по диагоанили. Здесь от лишних украшений пришлось отказаться, потому что на Python летать (работать без фризов) это не будет, поэтому вышло сромней. но всё равно ещё одна частичка Picasa Photo Viewer передана. Раньше превьюшки создавались в порядке следования - строго от первой до последней, не учитывая положение текущей превьюшки.
- Миниатюры в нижней части вьювера теперь проскальзывают при листании изображений как в Picasa Photo Viewer. Однако из-за долгой прогрузки самих картинок для подготовки к показу в главном потоке приложения, анимация иногда задерживается. Эта анимация вырубается через общую настройку для всех анимаций. Во время этой таски пришлось рефакторить систему анимации.
- Теперь при масштабировании изображения исключены резкие скачки. Для желающих вернуться к прежнему методу масштабирования в настройках появился соответствующий пункт.
    Новый метод работает за счёт добавления к исходной ширине или вычитания из исходной ширины картинки дробной величины от всё той же исходной ширины, а затем по исходной ширине и новой ширине вычисляется параметр масштабирования. Перед этим я думал делать интерполяцию по прямым от позиции мышки до углов прямоугольника (или до центра картинки, хотя центр картинки)
- Система анимации аттрибутов отрефакторена ещё раз. Теперь все анимиационные таски прокручивает один единственный таймер, чтобы сообщения от множества таймеров не захламляли очередь сообщений
- Пофиксил баг: в лайтовом режиме при закрытии окна не воспроизводилась анимация
- Набор поддерживаемых текстовых файлов расширен, добавлена поддержка .pyw-, .py- и .bat-файлов
- Появился анимированный зум, прям как в Picasa Photo Viewer. Он включён в настройках по умолчанию. Вдобавок зум старается прилипнуть к значению 100% при уменьшении и увеличении масштаба.
- Восстановлена работа фичи SlideShow
- При запуске обычного режима иконка приложения в трее отображется сразу, а не после прогрузки библиотеки
- Обновлена иконка приложения
- Переписал документацию и текст в UI. Теперь вьювер, библиотека и PureRef это страницы, а не режимы. А режимов только два - обычный и лайтовый (упрощённый)
- Исправлен баг. Из-за бага при краше аппликуха перезапускалась голой без открытой ранее картинки
- Теперь в обычном режиме иконка в трее анимируется во время прогрузок папок
- Режим слайдшоу получил ещё один багфикс: теперь смена последней картинки в списке на первую происходит бесшовно без неприятных эффектов
- Исправлены несколько багов:
    - На странице библиотеки приложение больше не крашится, если видит битый avif-файл, к тому для всех картинок, которые не могут быть отображены пишется не только слово "Ошибка", а ещё и название файла
    - Если из проводника затребовали папку или изображение к показу, то надо принудительно переключать со страницы "Библиотека" на страницу "Вьювер"
    - Добавлена прокрутка справке, вызываемой через клавишу F1
    - Приняты меры к устранению дубликатов папок в библиотеке
    - Внешний вид формы тегов улучшен
- Все пользовательские данные (сессия, избранное, комментарии, теги, настройки) теперь находятся в папке user_data, а не разбросаны хаотично по всей папке
- Отрефакторил весь код, относящийся к комментированию. Теперь весь код коментов сидит в своём модуле и не размазан по `library_data.py`. Заодно вспомнил, что отключил лишь отображение коментов в лайтовом режиме, а редактирование и создание коментов не отключил совсем. Ещё примечательно, что я хоть и создавал коменты в упрощённом режиме, но старые коменты от этого не перетёрлись и остались. Стабильная система получилась. Вообще я отрубил комменты тогда именно потому, что их загрузка отнимает время, ведь все комменты хранятся в одном файле и их загрузка потребует загрузки и самих изображений, к которым они относятся, а это не гуд для упрощённого лайтового режима.
- Пофиксил тулзу кадрирования картинок после рефакторинга
- Отрефакторил код показа центрального лейбла. Заодно исправил баг, когда задавание скорости и номера кадра работали на статической картинке и заставляли прорграмму падать. Вдобавок убрал краш, когда показывается лейбл скорости или кадра и, при перелистывании картинки, не успев исчезнуть, этому лейблу приходится отображаться на соседней картинке статической
- Центральный лейбл теперь может отображать сообщения об ошибках красным цветом букв
- Значение масштаба больше не отображается при попытке зумить картинку с ошибкой
- Появилась возможность оперативно переключится между вьювером, библиотекой, pureref-досками и стартовой страницей через красную угловую кнопку слева вверху. При наведении на кнопку выскочит меню для выбора нужной страницы приложения. Клавиша TAB теперь циклически переключает страницы.
- Наконец запилил фичу пермещения миниатюрок местами. Что нужно знать:
    - Ctrl + клик по одной миниатюрке даёт выбрать её для перемещния или исключить из выбора
    - Также если зажать Ctrl и левую кнопку мыши и тащить, то прямоугольником выделения можно выбрать сразу несколько превьшек или также исключить несколько из выбора
    - На время всех этих манипуляций ряд минатюрок становится полностью видимым
    - Выделение прямоугольником можно начинать с территории главного окна, всё будет работать идеально, специально убил на это час
    - Убрал баг, из-за которого случайно можно было бы кликнуть по миниатюрке так, что вьювер переключался на неё и весь ряд съезжал
    - В любой момент, если есть хотя бы одна выделенная миниатюрка, её можно вставить в то место, где появляется красный курсор. Обычно он появляется между изображениями
- UX: Миниатюры и превьшки папок, видимых на странице библиотеки, теперь создаются по порядку, начиная с первой, чтобы как можно раньше можно было видеть ряд миниатюрок каждой папки. Для вьювера осталось всё как было - превьюшки создатся по порядку в обе стороны начиная от текущей превьюшки в момент открытия папки.
- UX: Усовершенствован модуль комментариев. Теперь если во вьювер поступает запрос на показ картинки, то он проверяет, нет ли комментариев к этой картинке. Если оин есть, то у каждого комента путь к картинке проверяется на доступность. Если такого пути не сущестует более, то путь будет заменён на путь текущей открытой во вьювере картинки. В центральном лейбле вылезет сообщение, что картинка найдена и база обновлена. Картинка тот же час будт добавлена в папку с комментариями в библиотеке
- В контестном меню панели управления после вручую перемещнных миниатюрок пропадает галочка на любом из типов сортировки, как это и должно быть по логике.
- Справка F1: текст справки для текущей страницы теперь всегда прописывается впереди всех остальных страниц
- Порядок изображений можно сохранить в скрытый файл папки через команду контекстного меню панели управления. А если активирована соответствующая настройка, сохранение произойдёт автоматически
- Исправлен баг: Была ситуация, когда запрашиваемой картинки по факту не было и прога отскочила на STARTPAGE. Высветилось сообщение, что пути не существует. Потом я решил перейти во вьювер и увидел, что хоть папка для показа нашлась (папка с комментариями), но для ней не сгенерились превьюшки. Вот теперь они генерятся
- Папки с коментами и избранным теперь запрещено обновлять через кнопку на панели управления, да и вообще нельзя их обновлять. При попытке это сделать вылезет сообщение
- UX: Текстовые сообщения в центре теперь задерживаются дольше для возможности прочтения
- Исплавлен баг из-за невнимательного кодинга: после выхода из библиотеки во вьювер не работали трансформации
- Исправлен баг из-за невнимательного кодинга: теперь миниатюрка не подсвечивается под курсором мыши, если курсор мыши в данный момент находится на одной из кнопок панели управления
- История просмотра в самом верху теперь отображается только когда курсор находится у верхушки окна
- Стал доступен полноэкранный режим для панели управления. В этом режиме кнопки и лейбл скрываются, видно только миниатюрки. В этом режиме намного проще менять порядок этих превьюшек рукопашно, собственно, поэтому полноэкранный режим и был внедрён. Режим запускается черзе контекстное меню панели управления. В полноэкраннном режиме доступна прокрутка через колесо мыши
- PureRef (интерактивный коллаж)
    - запилено перемемещение и масштабирование через мышку
    - запилена отрисовка фреймов картинок и предварительное расположение их в один ряд, во фрейме пишется разрешение и название файла
    - написаны функции сохранения и восстановления контекста доски (положение вьюпорта, масштаб), которые вызываются при смене папки и при смене страницы
    - клик по миниатюрке в панели управления на странице PUREREF теперь центрирует вьюпорт на картинке этой миниатюрки
    - при наведении на минитюрку в лейбле панели управления будет отображаться имя файла, его разрешение и название папки
